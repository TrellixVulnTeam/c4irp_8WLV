language: python
sudo: required
dist: trusty
python:
  - "2.7"
  - "3.4"
  - "3.5"
  - "pypy"
branches:
  except:
    - wip
# command to install dependencies
install: "pip install -r .requirements.txt"
# command to run tests
script: ./.scripts/test.sh
before_install:
  - ./.scripts/fix-pypy1.sh
  - export PATH=$HOME/.pyenv/bin:$PATH
  - ./.scripts/fix-pypy2.sh
  - eval "$(pyenv init -)"
  - sudo apt-get -y --install-suggests install --reinstall clang llvm cppcheck build-essential libc6-dev
